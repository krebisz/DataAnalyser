<UserControl x:Class="DataVisualiser.UI.Controllers.TransformDataPanelController"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             xmlns:controllers="clr-namespace:DataVisualiser.UI.Controllers"
             mc:Ignorable="d"
             d:DesignHeight="550"
             d:DesignWidth="1200">
    <Grid x:Name="RootGrid">
        <controllers:ChartPanelController x:Name="PanelController" />

        <StackPanel x:Name="TransformContentRootPanel" Orientation="Vertical">
            <StackPanel x:Name="TransformOperationRowPanel" Orientation="Horizontal" Margin="20,10">
                <!-- Primary Subtype Selection -->
                <StackPanel x:Name="TransformPrimarySubtypePanel" Orientation="Vertical" Margin="0,0,20,0"
                            MinWidth="160">
                    <TextBlock Text="Primary Subtype:" FontWeight="Bold" Margin="0,0,0,5" />
                    <ComboBox x:Name="TransformPrimarySubtypeComboControl"
                              MinWidth="140" />
                </StackPanel>

                <!-- Operation Selection -->
                <StackPanel x:Name="TransformOperationPanel" Orientation="Vertical" Margin="0,0,20,0"
                            MinWidth="150">
                    <TextBlock Text="Operation:" FontWeight="Bold" Margin="0,0,0,5" />
                    <ComboBox x:Name="TransformOperationComboControl"
                              MinWidth="120">
                        <ComboBoxItem Content="Logarithm" Tag="Log" />
                        <ComboBoxItem Content="Square Root" Tag="Sqrt" />
                        <ComboBoxItem Content="Add (+)" Tag="Add" />
                        <ComboBoxItem Content="Subtract (-)" Tag="Subtract" />
                        <ComboBoxItem Content="Divide (/)" Tag="Divide" />
                    </ComboBox>
                </StackPanel>

                <!-- Secondary Subtype Selection -->
                <StackPanel x:Name="TransformSecondarySubtypePanelControl" Orientation="Vertical" Margin="0,0,20,0"
                            MinWidth="160"
                            Visibility="Collapsed">
                    <TextBlock Text="Secondary Subtype:" FontWeight="Bold" Margin="0,0,0,5" />
                    <ComboBox x:Name="TransformSecondarySubtypeComboControl"
                              MinWidth="140" />
                </StackPanel>

                <!-- Compute Button -->
                <Button x:Name="TransformComputeButtonControl"
                        Content="="
                        FontSize="20"
                        FontWeight="Bold"
                        Padding="15,5"
                        Margin="10,20,0,0"
                        IsEnabled="False" />
            </StackPanel>

            <!-- Data Grids -->
            <StackPanel x:Name="TransformDataGridsPanel" Orientation="Horizontal" Margin="20,10">
                <!-- Grid 1: Primary Data -->
                <StackPanel x:Name="TransformGrid1Panel" Orientation="Vertical" Margin="0,0,10,0"
                            MinWidth="250">
                    <TextBlock x:Name="TransformGrid1TitleControl"
                               Text="Primary Data"
                               FontWeight="Bold"
                               Margin="0,0,0,5" />
                    <DataGrid x:Name="TransformGrid1Control"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              HeadersVisibility="Column"
                              MaxHeight="400"
                              ScrollViewer.VerticalScrollBarVisibility="Auto"
                              CanUserResizeColumns="True"
                              CanUserReorderColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Timestamp" Binding="{Binding Timestamp}"
                                                Width="Auto" MinWidth="150" />
                            <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="Auto"
                                                MinWidth="100" />
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- Grid 2: Secondary Data (if applicable) -->
                <StackPanel x:Name="TransformGrid2PanelControl"
                            Orientation="Vertical"
                            Margin="0,0,10,0"
                            MinWidth="250"
                            Visibility="Collapsed">
                    <TextBlock x:Name="TransformGrid2TitleControl"
                               Text="Secondary Data"
                               FontWeight="Bold"
                               Margin="0,0,0,5" />
                    <DataGrid x:Name="TransformGrid2Control"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              HeadersVisibility="Column"
                              MaxHeight="400"
                              ScrollViewer.VerticalScrollBarVisibility="Auto"
                              CanUserResizeColumns="True"
                              CanUserReorderColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Timestamp" Binding="{Binding Timestamp}"
                                                Width="Auto" MinWidth="150" />
                            <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="Auto"
                                                MinWidth="100" />
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- Grid 3: Result -->
                <StackPanel x:Name="TransformGrid3PanelControl"
                            Orientation="Vertical"
                            MinWidth="250"
                            Visibility="Collapsed">
                    <TextBlock x:Name="TransformGrid3TitleControl"
                               Text="Result"
                               FontWeight="Bold"
                               Margin="0,0,0,5" />
                    <DataGrid x:Name="TransformGrid3Control"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              HeadersVisibility="Column"
                              MaxHeight="400"
                              ScrollViewer.VerticalScrollBarVisibility="Auto"
                              CanUserResizeColumns="True"
                              CanUserReorderColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Timestamp" Binding="{Binding Timestamp}"
                                                Width="Auto" MinWidth="150" />
                            <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="Auto"
                                                MinWidth="100" />
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- Chart: Transform Result -->
                <Grid x:Name="TransformChartContainerControl" Margin="10,0,0,0" HorizontalAlignment="Stretch"
                      MinWidth="400">
                    <StackPanel x:Name="TransformChartContentPanelControl"
                                Orientation="Vertical"
                                Visibility="Collapsed">
                        <lvc:CartesianChart x:Name="ChartTransformResultControl"
                                            LegendLocation="Right"
                                            Zoom="X"
                                            Pan="X"
                                            Hoverable="True"
                                            Margin="20,5,10,20"
                                            MinHeight="400">
                            <lvc:CartesianChart.AxisX>
                                <lvc:Axis Title="Time" />
                            </lvc:CartesianChart.AxisX>
                            <lvc:CartesianChart.AxisY>
                                <lvc:Axis Title="Value"
                                          ShowLabels="True" />
                            </lvc:CartesianChart.AxisY>
                        </lvc:CartesianChart>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </StackPanel>
    </Grid>
</UserControl>
